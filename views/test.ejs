<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://unpkg.com/vue-swal"></script>
    <script src="/scripts/user/login.js" defer></script>
    <title>P2. RecSys Homepage</title>
</head>
<body>
    <div id="app">
        <nav class="navbar is-warning" role="navigation" aria-label="main navigation" style="margin-bottom: 3rem">
            <div class="navbar-brand">
                <h1 class="title" style="margin-top: 0.4rem; margin-left: 0.5rem;"><a href>P2. RecSys</a></h1>
            </div>
            <div class="navbar-menu">
                <div class="navbar-start">
                    <a href="/movieRec" class="navbar-item">Get Movie Recommendation</a>
                    <a href="/connectWithFriends" class="navbar-item">Add friends</a>
                </div>
                <div class="navbar-end" style="margin-top: 0.4rem; margin-right: 0.5rem">
                    <input v-if="!loggedIn" class="input navbar-item" type="text" id="usernameField" placeholder="Enter your username" style="margin-right:0.5rem; width: 50%;">
                    <input v-if="!loggedIn" v-on:click="login" class="button is-primary navbar-item" type="button" value="Login">
                    <input v-if="!loggedIn" v-on:click="createNewUser" type="button" class="button is-primary navbar-item" value="Create Account" style="margin-left: 0.4rem;">
                    <p v-if="loggedIn" class="navbar-item" style="margin-top: -0.3rem;"><b>{{ username }}</b></p>
                    <input v-if="loggedIn" v-on:click="logout" class="button is-primary navbar-item" type="button" value="Logout">
                </div>
                
            </div>
        </nav>

        <div class="columns is-centered">
            <div class="column is-narrow" style="text-align: center;">
                <h1 class="title">Welcome {{ username }}</h1>
                <p class="content is-medium" v-if="!loggedIn">Log in or create an account to get started.</p>
            </div>
        </div>
        <div class="columns is-centered" v-if="loggedIn">
            <div class="column is-narrow">
                <div style="text-align: center;">
                    <img v-bind:src="currentMoviePoster">
                    <div id="account">  
                        <h3 class="subtitle" id="movieName" style="margin-bottom: 0.3rem;">{{ movieTitle }}</h3>
                        <div class="control" style="text-align: center; transform: scale(1.3); margin-bottom: 0.5rem;">
                            <input type ="radio" id="movie1-1" name="Rate" value="1">
                            <label for="1">1</label>
                            <input type ="radio" id="movie1-2" name="Rate" value="2">
                            <label for="2">2</label>
                            <input type ="radio" id="movie1-3" name="Rate" value="3">
                            <label for="3">3</label>
                            <input type ="radio" id="movie1-4" name="Rate" value="4">
                            <label for="4">4</label>
                            <input type ="radio" id="movie1-5" name="Rate" value="5">
                            <label for="5">5</label>
                        </div>
                        <input id="submitRating" type="button" value="Rate!" class="button is-success">
                        <input v-on:click="buildPage" id="unknown" type="button" value="Unknown" class="button is-warning">
                    </div>
                    <div style="margin-top: 2rem;">
                        <h1 class="title" style="margin-bottom: 0rem;">Your rated movies:</h1>
                        <ul>
                            <li v-for="movie in ratedMovies"> {{movie.title}} - {{movie.rating}}/5</li>
                        </ul>
                    </div>
                
                </div>
            </div>
        </div>
    </div>   
    
</body>
</html>

